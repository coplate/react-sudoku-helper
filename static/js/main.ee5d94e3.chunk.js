(this["webpackJsonpreact-sudoku-helper"]=this["webpackJsonpreact-sudoku-helper"]||[]).push([[0],{17:function(e,n,t){},18:function(e,n,t){},20:function(e,n,t){"use strict";t.r(n);var c=t(6),a=t.n(c),r=t(12),i=t.n(r),o=(t(17),t(9)),l=t(1),u=t(7),s=(t(18),t(0));function d(e){return e.squareData.given?Object(s.jsx)("div",{className:"given numeric cell-child",children:e.squareData.given}):null}function f(e){return e.squareData.answer?Object(s.jsx)("div",{className:"answer numeric  cell-child",children:e.squareData.answer}):null}function h(e){var n=e.squareData.candidates.filter((function(e){return e>0})).length;return Object(s.jsx)("div",{className:"snyder cell-child",children:e.squareData.candidates.map((function(t,c){var a="hide";return t>0&&(a="show",1===n&&(a="highlight")),Object(s.jsx)("div",{className:"corner corner-".concat(c," corner-style-").concat(a," numeric"),onClick:e.snyderClickHandler(e,c),children:t},"corner-".concat(c))}))})}function v(e){var n=e.squareData.selected?"selected":"",t=e.squareData.color?e.squareData.color:"none";return Object(s.jsxs)("div",{id:"cell-".concat(e.idx),className:"cell cell-".concat(e.idx," row-").concat(e.row," column-").concat(e.column," ").concat(n," cell-color-").concat(t),onClick:e.onClick(e),onMouseMove:e.squareDragHandler(e),onMouseDown:e.onMouseDown(e),children:[Object(s.jsx)(d,Object(u.a)({},e)),Object(s.jsx)(f,Object(u.a)({},e)),Object(s.jsx)(h,Object(u.a)({},e))]})}var b=function(e){return Object(s.jsx)("div",{className:"board-holder",children:Object(s.jsxs)("div",{className:"Board",children:[e.rules.map((function(e){return e.component()})),Object(s.jsx)("div",{className:"cell-holder",children:Object(l.a)(Array(9).keys()).map((function(n){return Object(l.a)(Array(9).keys()).map((function(t){var c=t+9*n;return Object(s.jsx)(v,Object(u.a)(Object(u.a)({},e),{},{row:n,column:t,idx:c,squareData:e.boardData[c]}),c)}))}))})]})})},j=t(2),p=t(3),m=t(5),O=t(4),g=function(){function e(n){Object(j.a)(this,e),this.cellIndexes=n.map((function(e){return e.idx}))}return Object(p.a)(e,[{key:"supportsIntersectionSource",value:function(){return!1}},{key:"applyIntersection",value:function(e,n,t){return 0}},{key:"setFlags",value:function(e){return 0}},{key:"apply",value:function(e,n){return 0}},{key:"component",value:function(){return Object(s.jsx)(s.Fragment,{})}}]),e}(),x=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(){return Object(j.a)(this,t),n.apply(this,arguments)}return Object(p.a)(t,[{key:"supportsIntersectionSource",value:function(){return!0}},{key:"applyIntersection",value:function(e,n,t){var c=this,a=this;if(a===e)return 0;if(e.supportsIntersectionSource()){var r=0;return Object(l.a)(Array(9).fill(0).keys()).forEach((function(i,o,u){var s=o+1,d=e.cellIndexes.filter((function(e){return n[e].candidates.includes(s)})),f=e.cellIndexes.filter((function(e){return a.cellIndexes.includes(e)}));d.every((function(e){return f.includes(e)}))&&(console.log("We have found an itersection of ",s,d,f),c.cellIndexes.forEach((function(e){if(!f.includes(e)){var c=n[e],a=Object(l.a)(c.candidates),i=t(c);r=1,console.log("Removing candidate <C> from index <i>",s,e),i.candidates=a.map((function(e){return e===s?0:e})),console.log(i.candidates),n[e]=i}})))})),r}}},{key:"apply",value:function(e,n){var t=this,c=function(e,n){var t=0;return e.forEach((function(e,c,a){e>0&&e!==n&&(a[c]=0,t+=1)})),t},a=0;return this.cellIndexes.forEach((function(r,i,o){var u=e[r],s=Object(l.a)(u.candidates),d=u.given||u.answer;if(d&&(a+=c(s,d)),s.forEach((function(n,r,i){n>0&&(1===t.cellIndexes.map((function(n){return e[n]})).map((function(e){return e.candidates})).map((function(e){return e[r]})).filter((function(e){return 0!==e})).length&&(a+=c(i,n)))})),s.forEach((function(n,c,i){n>0&&t.solved(e,n,r)&&(s[c]=0,a+=1)})),a>0){var f=n(u);console.log("Removing value from square"),f.candidates=s,e[r]=f}})),a}},{key:"validate",value:function(e){}},{key:"solved",value:function(e,n,t){return this.cellIndexes.some((function(c,a,r){if(t!==c){if(e[c].given===n)return!0;if(e[c].answer===n)return!0}return!1}))}}],[{key:"inRectangle",value:function(e,n,t,c,a){var r=a.idx,i=Math.floor(r/9),o=r%9;return i>=e&&i<e+t&&o>=n&&o<n+c}},{key:"fromRectangle",value:function(e,n,c,a,r){var i=r.filter((function(r){return t.inRectangle(e,n,c,a,r)}));return new t(i)}}]),t}(g);function k(e){var n=e%9;return"row-".concat((e-n)/9," column-").concat(n)}var y=function(e){var n=e.cells,t=[],c="?";return e.val&&(c=e.val),n.forEach((function(e,c,a){var r=e%9,i=(e-r)/9,o=[];n.includes(9*i+(r+1))||o.push("cage-right"),n.includes(9*(i+1)+r)||o.push("cage-down"),n.includes(9*i+(r-1))||o.push("cage-left"),n.includes(9*(i-1)+r)||o.push("cage-up"),o&&t.push({idx:e,type:o.join(" "),x:i,y:r})})),Object(s.jsxs)("div",{className:"cage",children:[Object(s.jsx)("div",{className:"cage-val ".concat(k(n[0])),children:c}),t.map((function(e){return Object(s.jsx)("div",{className:"cage-cell ".concat(e.type," ").concat(k(e.idx))},e.idx)}))]})},w=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e){var c,a=arguments.length>2?arguments[2]:void 0;return Object(j.a)(this,t),(c=n.call(this,e)).value=parseInt(a),c.exact=c.value>0,c}return Object(p.a)(t,[{key:"cageValidates",value:function(e,n,t,c){var a=this;return 0===c.length&&0===t||!(t<1)&&(1===c.length?!n.includes(t)&&e[c[0]].candidates.includes(t):c.some((function(r){var i=c.filter((function(e){return e!==r}));return e[r].candidates.filter((function(e){return e>0&&e<t&&!n.includes(e)})).some((function(c){return!!a.cageValidates(e,[].concat(Object(l.a)(n),[c]),t-c,i)}))})))}},{key:"component",value:function(){return Object(s.jsx)(y,{cells:Object(l.a)(this.cellIndexes),val:this.value})}},{key:"setFlags",value:function(e){var n=this;return this.exact?(this.cellIndexes.forEach((function(t){var c=e[t].cloneSquare();c.cageValue=n.value,e[t]=c})),1):0}},{key:"apply",value:function(e,n){var t=this,c=0;return this.cellIndexes.forEach((function(a,r,i){var o=e[a],u=Object(l.a)(o.candidates);if(t.exact&&u.forEach((function(n,r,i){n>0&&(t.cellIndexes.filter((function(e){return e!==a})).some((function(t){return(e[t].given||e[t].answer)===n}))&&(u[r]=0,c+=1))})),t.exact){var s=t.cellIndexes.filter((function(e){return e!==a}));u.forEach((function(n,a,r){n>0&&(t.cageValidates(e,[n],t.value-n,s)||(u[a]=0,c+=1))}))}if(c>0){var d=n(o);console.log("Removing value from square"),d.candidates=u,e[a]=d}})),c}}]),t}(g);function I(e){var n=e%9;return"row-".concat((e-n)/9," column-").concat(n)}var D=function(e){var n=e.cells;return Object(s.jsx)("div",{className:"same",children:n.map((function(e){return Object(s.jsx)("div",{className:"same-cell ".concat(I(e))})}))})},C=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e){return Object(j.a)(this,t),n.call(this,e)}return Object(p.a)(t,[{key:"same",value:function(e,n,t){return t.every((function(t){return e[t].candidates.includes(n)}))}},{key:"component",value:function(){return Object(s.jsx)(D,{cells:Object(l.a)(this.cellIndexes)})}},{key:"apply",value:function(e,n){var t=this,c=0;return this.cellIndexes.forEach((function(a,r,i){var o=e[a],u=Object(l.a)(o.candidates),s=t.cellIndexes.filter((function(e){return e!==a}));if(u.forEach((function(n,a,r){n>0&&(t.same(e,n,s)||(u[a]=0,c+=1))})),c>0){var d=n(o);console.log("Removing value from square"),d.candidates=u,e[a]=d}})),c}}]),t}(g);var E=function(e){var n=e.cells,t=[];return n.forEach((function(n,c,a){if(c>0){var r=a[c-1]%9,i=(a[c-1]-r)/9,o=a[c]%9,l=(a[c]-o)/9,u=r-o,s=i-l,d=Math.min(r,o),f=Math.min(i,l),h="dot";1===u&&(h=h+" dot-"+e.valueType+"-right"),1===s&&(h=h+" dot-"+e.valueType+"-down"),-1===u&&(h=h+" dot-"+e.valueType+"-left"),-1===s&&(h=h+" dot-"+e.valueType+"-up"),t.push({idx:n,startColumn:d,startRow:f,dx:Math.abs(u),dy:Math.abs(s),type:h})}})),Object(s.jsx)("div",{className:"kropke",children:t.map((function(e){return Object(s.jsx)("div",{className:"".concat(e.type),style:{gridColumn:"".concat(e.startColumn+1," / span ").concat(e.dx+1),gridRow:"".concat(e.startRow+1," / span ").concat(e.dy+1)}},e.idx)}))})},M=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e,c){var a;return Object(j.a)(this,t),(a=n.call(this,e)).value=parseInt(c),a}return Object(p.a)(t,[{key:"kropkeValidates",value:function(e,n,t,c){var a=this;if(0===n.length)return!0;console.log("Checking if Candidate ".concat(c," is valid in square ").concat(t));var r=[];1===this.value?(r.push(c+1),r.push(c-1)):(r.push(2*c),r.push(c/2)),console.log("Valid Candidates are ".concat(r," and cellIndexes.length is ").concat(n.length));var i=this.cellIndexes.map((function(e,n){return n})).filter((function(e){return e===t-1||e===t+1})).filter((function(e){return n.includes(a.cellIndexes[e])}));console.log("Checking if Candidate ".concat(c," is valid in square ").concat(t,"[").concat(this.cellIndexes[t],"] - now checking Adjacent cells ").concat(i));var o=i.every((function(t){console.log("Checking adjacentArrayIndex:",t),console.log("Checking this.cellIndexes:",a.cellIndexes);var c=a.cellIndexes[t];console.log("Checking index:",c);var i=n.filter((function(e){return e!==c}));return console.log("Checking otherCellIndexes:",i),e[c].candidates.filter((function(e){return r.includes(e)})).some((function(n){return!!a.kropkeValidates(e,i,t,n)}))}));return console.log(o),o}},{key:"component",value:function(){return Object(s.jsx)(E,{cells:Object(l.a)(this.cellIndexes),valueType:this.value})}},{key:"setFlags",value:function(e){return 0}},{key:"apply",value:function(e,n){var t=this,c=0;return this.cellIndexes.forEach((function(a,r,i){var o=e[a],u=Object(l.a)(o.candidates),s=t.cellIndexes.filter((function(e){return e!==a}));if(u.forEach((function(n,a,i){n>0&&(t.kropkeValidates(e,s,r,n)||(u[a]=0,c+=1))})),c>0){var d=n(o);console.log("Removing value from square"),d.candidates=u,e[a]=d}})),c}}]),t}(g),q=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e){var c,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(j.a)(this,t),(c=n.call(this,e)).matchDistance=parseInt(a),c}return Object(p.a)(t,[{key:"apply",value:function(e,n){var t=this,c=0;return this.cellIndexes.forEach((function(a,r,i){var o=e[a],u=Object(l.a)(o.candidates);if(!o.given&&!o.answer){var s=Math.floor(a/9),d=a%9;if(u.forEach((function(n,r,i){n>0&&(t.cellIndexes.some((function(c){var a=e[c].given||e[c].answer;return 0!==a&&Math.abs(a-n)===t.matchDistance&&2===Math.abs((Math.floor(c/9)-s)*(c%9-d))}))&&(console.log("Removing value from square",r,a),u[r]=0,c+=1))})),c>0){var f=n(o);console.log("Removing value from square"),f.candidates=u,e[a]=f}}})),c}}]),t}(g),R=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e){var c,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(j.a)(this,t),(c=n.call(this,e)).matchDistance=parseInt(a),c}return Object(p.a)(t,[{key:"apply",value:function(e,n){var t=this,c=0;return this.cellIndexes.forEach((function(a,r,i){var o=e[a],u=Object(l.a)(o.candidates);if(!o.given&&!o.answer){var s=Math.floor(a/9),d=a%9;if(u.forEach((function(n,r,i){n>0&&(t.cellIndexes.some((function(c){var a=e[c].given||e[c].answer;if(0!==a&&Math.abs(a-n)===t.matchDistance){if(Math.abs(Math.floor(c/9)-s)+Math.abs(c%9-d)===1)return!0;if(1===Math.abs((Math.floor(c/9)-s)*(c%9-d)))return!0}return!1}))&&(console.log("Removing value from square",r,a),u[r]=0,c+=1))})),c>0){var f=n(o);console.log("Removing value from square"),f.candidates=u,e[a]=f}}})),c}}]),t}(g),N=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e){var c,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(j.a)(this,t),(c=n.call(this,e)).matchDistance=parseInt(a),c}return Object(p.a)(t,[{key:"apply",value:function(e,n){var t=this,c=0;return this.cellIndexes.forEach((function(a,r,i){var o=e[a],u=Object(l.a)(o.candidates);if(!o.given&&!o.answer){var s=Math.floor(a/9),d=a%9;if(u.forEach((function(n,r,i){n>0&&(t.cellIndexes.some((function(c){var a=e[c].given||e[c].answer;return 0!==a&&Math.abs(a-n)===t.matchDistance&&Math.abs(Math.floor(c/9)-s)+Math.abs(c%9-d)===1}))&&(console.log("Removing value from square",r,a),u[r]=0,c+=1))})),c>0){var f=n(o);console.log("Removing value from square"),f.candidates=u,e[a]=f}}})),c}}]),t}(g);function S(e){var n=e%9;return"row-".concat((e-n)/9," column-").concat(n)}var V=function(e){var n=e.cells,t=n[0],c=[];return n.forEach((function(e,n,t){if(n>0){var a=t[n-1]%9,r=(t[n-1]-a)/9,i=t[n]%9,o=(t[n]-i)/9,l=a-i,u=r-o,s=Math.min(a,i),d=Math.min(r,o),f="tube";1===l&&(f+=" tube-right"),1===u&&(f+=" tube-down"),-1===l&&(f+=" tube-left"),-1===u&&(f+=" tube-up"),c.push({idx:e,startColumn:s,startRow:d,dx:Math.abs(l),dy:Math.abs(u),type:f})}})),Object(s.jsxs)("div",{className:"thermometer",children:[Object(s.jsx)("div",{className:"bulb ".concat(S(t))}),c.map((function(e){return Object(s.jsx)("div",{className:"".concat(e.type),style:{gridColumn:"".concat(e.startColumn+1," / span ").concat(e.dx+1),gridRow:"".concat(e.startRow+1," / span ").concat(e.dy+1)}},e.idx)}))]})},A=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e){var c,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return Object(j.a)(this,t),c=n.call(this,e),console.log(c.cellIndexes),c.exact=a,c.value=parseInt(r),c}return Object(p.a)(t,[{key:"component",value:function(){return Object(s.jsx)(V,{cells:Object(l.a)(this.cellIndexes)})}},{key:"apply",value:function(e,n){var t=0;return this.cellIndexes.forEach((function(c,a,r){var i=e[c],o=Object(l.a)(i.candidates);if(o.forEach((function(n,i,u){if(n>0){var s=0,d=10;a>0&&(s=Math.min.apply(Math,Object(l.a)(e[r[a-1]].candidates.filter((function(e){return e>0}))))),a<r.length-1&&(d=Math.max.apply(Math,Object(l.a)(e[r[a+1]].candidates.filter((function(e){return e>0}))))),(n>=d||n<=s)&&(console.log("Removing value from square",i,c),o[i]=0,t+=1)}})),t>0){var u=n(i);console.log("Removing value from square"),u.candidates=o,e[c]=u}})),t}}]),t}(g);var F=function(e){var n=e.cells,t=[];return n.forEach((function(e,n,c){if(n>0){var a=c[n-1]%9,r=(c[n-1]-a)/9,i=c[n]%9,o=(c[n]-i)/9,l=a-i,u=r-o,s=Math.min(a,i),d=Math.min(r,o),f="tube";1===l&&(f+=" tube-right"),1===u&&(f+=" tube-down"),-1===l&&(f+=" tube-left"),-1===u&&(f+=" tube-up"),t.push({idx:e,startColumn:s,startRow:d,dx:Math.abs(l),dy:Math.abs(u),type:f})}})),Object(s.jsx)("div",{className:"renban",children:t.map((function(e){return Object(s.jsx)("div",{className:"".concat(e.type),style:{gridColumn:"".concat(e.startColumn+1," / span ").concat(e.dx+1),gridRow:"".concat(e.startRow+1," / span ").concat(e.dy+1)}},e.idx)}))})},T=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e){var c,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return Object(j.a)(this,t),(c=n.call(this,e)).exact=a,c.value=parseInt(r),c}return Object(p.a)(t,[{key:"renbanValidates",value:function(e,n,t){var c=this;if(0===n.length)return!0;var a=n[0],r=n.slice(1),i=t.filter((function(n){return e[n].candidates.includes(a)}));return 0!==i.length&&i.some((function(n){return c.renbanValidates(e,r,t.filter((function(e){return e!==n})))}))}},{key:"component",value:function(){return Object(s.jsx)(F,{cells:Object(l.a)(this.cellIndexes)})}},{key:"apply",value:function(e,n){var t=this,c=0;return this.cellIndexes.forEach((function(a,r,i){var o=e[a],u=Object(l.a)(o.candidates);if(u.forEach((function(n,r,i){if(n>0){for(var o=!1,l=t.cellIndexes.length,s=n;s>0&&s>n-l;s--){for(var d=[],f=0;f<l;f++)d.push(s+f);if(o=t.renbanValidates(e,d.filter((function(e){return e!==n})),t.cellIndexes.filter((function(e){return e!==a}))))break}o||(u[r]=0,c+=1)}})),c>0){var s=n(o);console.log("Removing value from square"),s.candidates=u,e[a]=s}})),c}}]),t}(g);function K(e){var n=e%9;return"row-".concat((e-n)/9," column-").concat(n)}var B=function(e){var n=e.cells,t=[];return n.forEach((function(e,n,c){var a=c[n-1]%9,r=(c[n-1]-a)/9,i=c[n]%9,o=(c[n]-i)/9,l=a-i,u=r-o,s=Math.min(a,i),d=Math.min(r,o),f="tube";1===l&&(f+=" tube-right"),1===u&&(f+=" tube-down"),-1===l&&(f+=" tube-left"),-1===u&&(f+=" tube-up"),t.push({idx:e,startColumn:s,startRow:d,dx:Math.abs(l),dy:Math.abs(u),type:f})})),Object(s.jsx)("div",{className:"mod",children:n.map((function(n){return Object(s.jsx)("div",{className:"mod-".concat(e.modVal,"-").concat(e.modResult," ").concat(K(n))})}))})},H=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e,c,a){var r;return Object(j.a)(this,t),(r=n.call(this,e)).value=parseInt(c),r.result=parseInt(a),r}return Object(p.a)(t,[{key:"component",value:function(){return Object(s.jsx)(B,{cells:Object(l.a)(this.cellIndexes),modVal:this.value,modResult:this.result})}},{key:"apply",value:function(e,n){var t=this,c=0;return this.cellIndexes.forEach((function(a,r,i){var o=e[a],u=Object(l.a)(o.candidates);if(u.forEach((function(e,n,a){e>0&&e%t.value!==t.result&&(u[n]=0,c+=1)})),c>0){var s=n(o);s.candidates=u,e[a]=s}})),c}}]),t}(g);function L(e){var n=e%9;return"row-".concat((e-n)/9," column-").concat(n)}var z=function(e){var n=e.cells,t=e.type||"tube",c=e.val,a=[];return n.forEach((function(e,n,c){if(n>0){var r=c[n-1]%9,i=(c[n-1]-r)/9,o=c[n]%9,l=(c[n]-o)/9,u=r-o,s=i-l,d=Math.min(r,o),f=Math.min(i,l),h="tube";1===u&&(h+=" ".concat(t,"-right")),1===s&&(h+=" ".concat(t,"-down")),-1===u&&(h+=" ".concat(t,"-left")),-1===s&&(h+=" ".concat(t,"-up")),a.push({idx:e,startColumn:d,startRow:f,dx:Math.abs(u),dy:Math.abs(s),type:h})}})),Object(s.jsxs)("div",{className:"line",children:[c&&Object(s.jsx)("div",{className:"cage-val ".concat(L(n[0])),children:c}),a.map((function(e){return Object(s.jsx)("div",{className:"".concat(e.type),style:{gridColumn:"".concat(e.startColumn+1," / span ").concat(e.dx+1),gridRow:"".concat(e.startRow+1," / span ").concat(e.dy+1)}},e.idx)}))]})},W=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e){var c,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;return Object(j.a)(this,t),c=n.call(this,e),console.log("new little"),c.exact=a,c.value=parseInt(r),c}return Object(p.a)(t,[{key:"cageValidates",value:function(e,n,t){var c=this;return 0===t.length&&0===n||!(n<1)&&(1===t.length?e[t[0]].candidates.includes(n):t.some((function(a){var r=t.filter((function(e){return e!==a}));return e[a].candidates.filter((function(e){return e>0&&e<n})).some((function(t){return!!c.cageValidates(e,n-t,r)}))})))}},{key:"component",value:function(){return Object(s.jsx)(z,{cells:Object(l.a)(this.cellIndexes),val:this.value})}},{key:"setFlags",value:function(e){var n=this;return this.exact?(this.cellIndexes.forEach((function(t){var c=e[t].cloneSquare();c.cageValue=n.value,e[t]=c})),1):0}},{key:"apply",value:function(e,n){var t=this,c=0;return this.cellIndexes.forEach((function(a,r,i){var o=e[a],u=Object(l.a)(o.candidates),s=t.cellIndexes.filter((function(e){return e!==a}));if(u.forEach((function(n,a,r){n>0&&(t.cageValidates(e,t.value-n,s)||(u[a]=0,c+=1))})),c>0){var d=n(o);console.log("Removing value from square"),d.candidates=u,e[a]=d}})),c}}]),t}(g);var P=function(e){return Object(s.jsx)("div",{className:"aaa",children:e.children})},J=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e){var c,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return Object(j.a)(this,t),c=n.call(this,e),console.log(c.cellIndexes),c.difference=a,c}return Object(p.a)(t,[{key:"component",value:function(){return Object(s.jsx)(z,{type:"line",cells:Object(l.a)(this.cellIndexes)})}},{key:"apply",value:function(e,n){var t=this,c=0;return this.cellIndexes.forEach((function(a,r,i){var o=e[a],u=Object(l.a)(o.candidates);if(u.forEach((function(n,a,o){if(n>0){var s=!1;if(r>0)0===new Set(Object(l.a)(e[i[r-1]].candidates.filter((function(e){return e>0})).filter((function(e){return Math.abs(e-n)>=t.difference})))).size&&(s=!0);if(r<i.length-1)0===new Set(Object(l.a)(e[i[r+1]].candidates.filter((function(e){return e>0})).filter((function(e){return Math.abs(e-n)>=t.difference})))).size&&(s=!0);s&&(u[a]=0,c+=1)}})),c>0){var s=n(o);s.candidates=u,e[a]=s}})),c}}]),t}(g),Q=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(){return Object(j.a)(this,t),n.apply(this,arguments)}return Object(p.a)(t,[{key:"component",value:function(){return Object(s.jsx)(z,{cells:Object(l.a)(this.cellIndexes)})}},{key:"apply",value:function(e,n){var t=0;return this.cellIndexes.forEach((function(c,a,r){var i=e[c],o=Object(l.a)(i.candidates),u=r.length-(a+1),s=e[r[u]].candidates;if(o.forEach((function(e,n,c){if(e>0){var a=!0;s.includes(e)&&(a=!1),a&&(o[n]=0,t+=1)}})),t>0){var d=n(i);d.candidates=o,e[c]=d}})),t}}]),t}(g);function U(e){var n=e%9;return"row-".concat((e-n)/9," column-").concat(n)}var Y=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e){var c,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(j.a)(this,t),c=n.call(this,e),console.log(c.cellIndexes),c.values=Object(l.a)(a.split("")).map((function(e){return parseInt(e)})),console.log(c.values),c}return Object(p.a)(t,[{key:"component",value:function(){return Object(s.jsx)("div",{className:"quad",children:Object(s.jsx)("div",{className:"quadcell "+U(Math.min.apply(Math,Object(l.a)(this.cellIndexes))),children:this.values.join("")})})}},{key:"removeOther",value:function(e,n){var t=0;return e.forEach((function(e,c,a){n.includes(e)||0!==a[c]&&(a[c]=0,t+=1)})),t}},{key:"apply",value:function(e,n){var t=this,c=new Set(Object(l.a)(this.values)),a=new Set(Object(l.a)(this.cellIndexes));this.cellIndexes.forEach((function(n,t,r){var i=e[n],o=i.given||i.answer;c.delete(o),o&&a.delete(n)}));var r=0;return this.cellIndexes.forEach((function(i,o,u){var s=0,d=e[i],f=Object(l.a)(d.candidates),h=d.given||d.answer;if(f.forEach((function(n,c,a){n>0&&(t.values.includes(n)&&1===t.cellIndexes.map((function(n){return e[n]})).map((function(e){return e.candidates})).map((function(e){return e[c]})).filter((function(e){return 0!==e})).length&&(s+=t.removeOther(f,[n]),console.log(s)))})),h||f.forEach((function(e,n,r){e>0&&(t.values.includes(e)||a.size===c.size&&(f[n]=0,s+=1,console.log("Removing value from square"),console.log("Because",e,a,c)))})),s>0){var v=n(d);v.candidates=f,e[i]=v,r+=s}})),r}}]),t}(g);function G(e){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("button",{onClick:function(n){return e.clickDispatcher(n,"mode")},children:[" Toggle mode ( ",e.mode?"Cell":"Candidate",") "]}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"undo")},children:"Undo"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"redo")},children:"Redo"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"accept")},children:"Accept"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"cage",prompt("Value","9"))},children:"Create Cage"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"thermometer")},children:"Thermometer"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"renban")},children:"Renban"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"kropke",prompt("Type","1"))},children:"Kropke"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"whisper")},children:"Whisper"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"palindrome")},children:"Palindrome"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"quadruple",prompt("Enter Values",""))},children:"Quadruple"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"mod",2,1)},children:"Odd"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"mod",2,0)},children:"Even"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"mod",prompt("ModVal","3"),prompt("ModResult","0"))},children:"Mod"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"chess","knight",prompt("Match Distance","0"))},children:"Apply Knights Move"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"chess","pawn",prompt("Match Distance","0"))},children:"Apply pawn Move"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"chess","king",prompt("Match Distance","0"))},children:"Apply king Move"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"littleKiller",prompt("Value","45"))},children:"Create Little Killer Cage"}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"color",prompt("Value","1"))},children:"Color digit"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:function(n){return e.clickDispatcher(n,"same")},children:"Same"})]})}function X(e){var n=Object(u.a)(Object(u.a)({},e),{},{candidates:Object(l.a)(e.candidates)});return n.cloneSquare=function(){return X(n)},n}function Z(){var e=Object(l.a)(Array(81).fill(null));Object(l.a)(Array(81).fill(null)).forEach((function(n,t,c){var a=Object(l.a)(Array(9).keys()).map((function(e){return e+1}));e[t]={cloneSquare:null,given:0,answer:0,candidates:a,selected:!1,color:0,idx:t,cageValue:null,cageFlags:0},e.cloneSquare=function(){}}));var n=Array(9).fill(0).map((function(n,t){return x.fromRectangle(t,0,1,9,e)})),t=Array(9).fill(0).map((function(n,t){return x.fromRectangle(0,t,9,1,e)})),c=Array(9).fill(0).map((function(n,t){var c=3*Math.floor(t/3),a=t%3*3;return x.fromRectangle(c,a,3,3,e)})),a=[].concat(Object(l.a)(n),Object(l.a)(t),Object(l.a)(c));return{boardData:e,rules:a,index:0,selection:[],lastAction:""}}var $=function(){var e=Object(c.useState)(1),n=Object(o.a)(e,2),t=n[0],a=n[1],r=Object(c.useState)(0),i=Object(o.a)(r,2),u=i[0],d=i[1],f=Object(c.useState)((function(){return[Z()]})),h=Object(o.a)(f,2),v=h[0],j=h[1],p=v[u],m=function(e,n){y(e,u+1,"create new",n)},O=function(e,n){for(var c=null,r=Object(l.a)(p.boardData),i=p.selection.map((function(e){return r[e]})),o=arguments.length,s=new Array(o>2?o-2:0),f=2;f<o;f++)s[f-2]=arguments[f];switch(n){case"undo":u&&d(u-1);break;case"redo":u+1<v.length&&d(u+1);break;case"accept":D();break;case"mode":a(1-t);break;case"thermometer":c=new A(i);break;case"renban":c=new T(i);break;case"kropke":var h=[].concat(s),b=h[0];c=new M(i,b);break;case"same":c=new C(i);break;case"mod":var j=[].concat(s),O=j[0],g=j[1];c=new H(i,O,g);break;case"whisper":c=new J(i);break;case"quadruple":var x=[].concat(s),k=x[0];c=new Y(i,k);break;case"palindrome":c=new Q(i);break;case"cage":case"littleKiller":var I=[].concat(s),E=I[0];"cage"===n&&(c=new w(i,!0,E)),"littleKiller"===n&&(c=new W(i,!0,E));break;case"chess":var S=[].concat(s),V=S[0],F=S[1];switch(V){case"knight":c=new q(r,F);break;case"king":c=new R(r,F);break;case"pawn":c=new N(r,F)}break;case"color":console.log("coloring cells");var K=[].concat(s),B=K[0];r.forEach((function(e,n,t){var c=X(e),a=parseInt(B),r=c.candidates.includes(a);console.log(c,a,r),c.color=r?"blue":"none",t[n]=c,console.log("Change selected",n,t[n].selected)})),y(r,u+1,"highlight")}c&&m(r,c)},g=function(e){if(!1!==e.target.readOnly){e.preventDefault();var n=parseInt(e.key);isNaN(n)?("s"===e.key&&O(e,"same"),"c"===e.key&&(console.log(e),O(e,"cage",prompt("Value","9")))):I(n)}};Object(c.useEffect)((function(){return document.addEventListener("keydown",g),function(){document.removeEventListener("keydown",g)}})),Object(c.useEffect)((function(){!function(e){if(e||(e=Object(l.a)(p.boardData)),!p.lastAction.startsWith("select")){var n=0;p.rules.forEach((function(t,c,a){var r=t.apply(e,X);r&&(n+=1)})),0===n&&p.rules.forEach((function(e,n,t){p.rules.forEach((function(e,n,t){}))})),n&&y(e,u,"rules-".concat(u))}}(0)}));var x=function(e,n,t){var c="selection-".concat(n,"-idx-").concat(e.idx);p.lastAction.eq!=c&&E(e.idx,c,t)},k=function(e){return X(p.boardData[e])},y=function(e,n,t){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4?arguments[4]:void 0,r=Object(l.a)(p.selection);a&&(r=a);var i=Object(l.a)(p.rules);c&&(i.push(c),c.setFlags(e)),j([].concat(Object(l.a)(v.slice(0,n)),[{boardData:e,rules:i,index:e.index,lastAction:t,selection:r}])),d(n)},I=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=u+1,a=Object(l.a)(p.boardData),r=[];r=n||a.filter((function(e){return e.selected})).map((function(e){return e.idx}));var i=0;r.forEach((function(n,c,r){var o=X(a[n]),l=!1;o.given||(0===t?o.candidates[e-1]===e&&(l=!0,o.candidates[e-1]=0):o.answer!==e&&(l=!0,o.answer=e),l&&(i+=1,a[n]=o))})),i>0&&y(a,c,"set-value-".concat(e))},D=function(){var e=u+1,n=Object(l.a)(p.boardData),t=n.filter((function(e){return 1===e.candidates.filter((function(e){return 0!==e})).length})),c=0;t.forEach((function(e,t,a){if(!e.given&&!e.answer){var r=X(e),i=e.candidates.find((function(e){return 0!==e}));r.answer=i,n[e.idx]=r,c+=1}})),c>0&&y(n,e,"accept")},E=function(e,n,t){var c=u+1;p.lastAction.startsWith("selection-")&&(c=u);var a=Object(l.a)(p.boardData),r=Object(l.a)(p.selection);t&&(a.forEach((function(e,n,t){if(e.selected){var c=k(n);c.selected=!1,t[n]=c}})),r=[]);var i=k(e);i.selected=!0,a[e]=i,y(a,c,n,null,[].concat(Object(l.a)(r),[e]))};return Object(s.jsxs)("div",{onKeyDown:g,children:[Object(s.jsxs)("p",{children:["You clicked ",u," times"]}),Object(s.jsx)("button",{onClick:function(){d(0)},children:"Reset"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",name:"importString",id:"inputString"}),Object(s.jsx)("button",{onClick:function(){var e=Object(l.a)(p.boardData),n=document.getElementById("inputString").value.split("/"),t=Object(o.a)(n,2),c=t[0],a=t[1],r=c.split(""),i=(a||"").split("");r.forEach((function(n,t,c){if(t<81){var a=parseInt(n);if(!isNaN(a)&&a>0){var r=k(t);r.given=a,e[t]=r}}})),i.forEach((function(n,t,c){if(t<81){var a=parseInt(n);if(!isNaN(a)&&a>0){var r=k(t);r.answer=a,e[t]=r}}})),r.length+i.length>0&&y(e,u+1,"set-value-input")},children:"Import"}),Object(s.jsx)("button",{onClick:function(){var e=p.boardData.map((function(e){return e.given})),n=p.boardData.map((function(e){return e.answer})),t=e.join("")+"/"+n.join("");document.getElementById("exportString").value=t},children:"Export"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",name:"exportString",id:"exportString"}),Object(s.jsx)("br",{}),Object(s.jsx)(G,{clickDispatcher:O.bind(this),mode:t}),Object(s.jsx)(P,{children:Object(s.jsx)(b,{boardData:p.boardData,rules:p.rules,onMouseDown:function(e){return function(n){var t=!0;if(n.preventDefault(),n.ctrlKey){if(p.boardData[e.idx].selected)return;t=!1}x(e,"squareMouseDownHandler",t)}},onClick:function(e){return function(e){}},snyderClickHandler:function(e,n){return function(e){}},squareDragHandler:function(e){return function(n){n.preventDefault(),n.buttons&&(p.boardData[e.idx].selected||x(e,"squareDragHandler",!1))}}})})]})},_=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)($,{})}),document.getElementById("root")),_()}},[[20,1,2]]]);
//# sourceMappingURL=main.ee5d94e3.chunk.js.map